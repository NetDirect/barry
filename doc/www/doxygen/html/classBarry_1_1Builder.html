<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Barry: Barry::Builder Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="classes.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespaceBarry.html">Barry</a>::<a class="el" href="classBarry_1_1Builder.html">Builder</a>
  </div>
</div>
<div class="contents">
<h1>Barry::Builder Class Reference</h1><!-- doxytag: class="Barry::Builder" --><code>#include &lt;<a class="el" href="builder_8h-source.html">builder.h</a>&gt;</code>
<p>
<div class="dynheader">
Inheritance diagram for Barry::Builder:</div>
<div class="dynsection">
<p><center><img src="classBarry_1_1Builder__inherit__graph.png" border="0" usemap="#Barry_1_1Builder__inherit__map" alt="Inheritance graph"></center>
<map name="Barry_1_1Builder__inherit__map">
<area shape="rect" href="classBarry_1_1RecordBuilder.html" title="Template class for easy creation of specific protocol packet builder objects." alt="" coords="5,80,280,107"></map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center></div>

<p>
<a href="classBarry_1_1Builder-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
Base class for the builder functor hierarchy. 
<p>
This defines the API used by the <a class="el" href="classBarry_1_1Controller.html" title="The main interface class.">Controller</a> and Packet classes for building a raw device record to write to the device. 
<p>Definition at line <a class="el" href="builder_8h-source.html#l00040">40</a> of file <a class="el" href="builder_8h-source.html">builder.h</a>.</p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBarry_1_1Builder.html#936d3e7b4e771fb2f7ee48476d802407">Retrieve</a> (unsigned int databaseId)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called first in the sequence, to allow the application to load the needed data from memory, disk, etc.  <a href="#936d3e7b4e771fb2f7ee48476d802407"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBarry_1_1Builder.html#b586fc135c6fbe0d1f9019bc4a2639d0">GetRecType</a> () const =0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called to retrive the unique ID for this record.  <a href="#b586fc135c6fbe0d1f9019bc4a2639d0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBarry_1_1Builder.html#7fd24f3f6d34bd1a6e8875ce7c242e9b">BuildHeader</a> (Data &amp;data, size_t &amp;offset)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called before <a class="el" href="classBarry_1_1Builder.html#8414acbff050df62c01d8835115e6d18" title="Called to build the record field data.">BuildFields()</a> in order to build the header for this record.  <a href="#7fd24f3f6d34bd1a6e8875ce7c242e9b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBarry_1_1Builder.html#8414acbff050df62c01d8835115e6d18">BuildFields</a> (Data &amp;data, size_t &amp;offset, const <a class="el" href="classBarry_1_1IConverter.html">IConverter</a> *ic)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called to build the record field data.  <a href="#8414acbff050df62c01d8835115e6d18"></a><br></td></tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="936d3e7b4e771fb2f7ee48476d802407"></a><!-- doxytag: member="Barry::Builder::Retrieve" ref="936d3e7b4e771fb2f7ee48476d802407" args="(unsigned int databaseId)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool Barry::Builder::Retrieve           </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>databaseId</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Called first in the sequence, to allow the application to load the needed data from memory, disk, etc. 
<p>
If successful, return true. If at the end of the series, return false. 
<p>Implemented in <a class="el" href="classBarry_1_1RecordBuilder.html#8ce2a42e0805c1b64c6bda3aadeb040e">Barry::RecordBuilder&lt; RecordT, StorageT &gt;</a>.</p>

<p>Referenced by <a class="el" href="packet_8cc-source.html#l00423">Barry::DBPacket::SetRecord()</a>, and <a class="el" href="packet_8cc-source.html#l00359">Barry::DBPacket::SetRecordByIndex()</a>.</p>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="classBarry_1_1Builder_936d3e7b4e771fb2f7ee48476d802407_icgraph.png" border="0" usemap="#classBarry_1_1Builder_936d3e7b4e771fb2f7ee48476d802407_icgraph_map" alt=""></center>
<map name="classBarry_1_1Builder_936d3e7b4e771fb2f7ee48476d802407_icgraph_map">
<area shape="rect" href="classBarry_1_1DBPacket.html#26c4025403d129f658c1919190c0a0f0" title="Builds a command packet in the m_send buffer for the SET_RECORD command code." alt="" coords="236,5,423,32"><area shape="rect" href="classBarry_1_1DBPacket.html#7a41833dcc12c2823cd54991161e8d26" title="Builds a command packet in the m_send buffer for the SET_RECORD_BY_INDEX command..." alt="" coords="212,56,447,83"><area shape="rect" href="classBarry_1_1Mode_1_1Desktop.html#0fec0d31ff496974acfc15fdc75f074a" title="Adds a record to the specified database." alt="" coords="497,5,716,32"><area shape="rect" href="classBarry_1_1Mode_1_1Desktop.html#bf813b7fb04062515369209c8073dab0" title="Overwrites a specific record in the device as identified by the stateTableIndex." alt="" coords="499,56,715,83"></map>
</div>

</div>
</div><p>
<a class="anchor" name="b586fc135c6fbe0d1f9019bc4a2639d0"></a><!-- doxytag: member="Barry::Builder::GetRecType" ref="b586fc135c6fbe0d1f9019bc4a2639d0" args="() const =0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual uint8_t Barry::Builder::GetRecType           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Called to retrive the unique ID for this record. 
<p>

<p>Implemented in <a class="el" href="classBarry_1_1RecordBuilder.html#13dba30bb979be690b85ade4ce79cd7a">Barry::RecordBuilder&lt; RecordT, StorageT &gt;</a>.</p>

<p>Referenced by <a class="el" href="packet_8cc-source.html#l00423">Barry::DBPacket::SetRecord()</a>.</p>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="classBarry_1_1Builder_b586fc135c6fbe0d1f9019bc4a2639d0_icgraph.png" border="0" usemap="#classBarry_1_1Builder_b586fc135c6fbe0d1f9019bc4a2639d0_icgraph_map" alt=""></center>
<map name="classBarry_1_1Builder_b586fc135c6fbe0d1f9019bc4a2639d0_icgraph_map">
<area shape="rect" href="classBarry_1_1DBPacket.html#26c4025403d129f658c1919190c0a0f0" title="Builds a command packet in the m_send buffer for the SET_RECORD command code." alt="" coords="236,5,423,32"><area shape="rect" href="classBarry_1_1Mode_1_1Desktop.html#0fec0d31ff496974acfc15fdc75f074a" title="Adds a record to the specified database." alt="" coords="473,5,692,32"></map>
</div>

</div>
</div><p>
<a class="anchor" name="7fd24f3f6d34bd1a6e8875ce7c242e9b"></a><!-- doxytag: member="Barry::Builder::BuildHeader" ref="7fd24f3f6d34bd1a6e8875ce7c242e9b" args="(Data &amp;data, size_t &amp;offset)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Barry::Builder::BuildHeader           </td>
          <td>(</td>
          <td class="paramtype">Data &amp;&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&nbsp;</td>
          <td class="paramname"> <em>offset</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Called before <a class="el" href="classBarry_1_1Builder.html#8414acbff050df62c01d8835115e6d18" title="Called to build the record field data.">BuildFields()</a> in order to build the header for this record. 
<p>
Store the raw data in data, at the offset given in offset. When finished, update offset to point to the next spot to put new data. 
<p>Implemented in <a class="el" href="classBarry_1_1RecordBuilder.html#b12fe31225a41f2ebcca45dd4d4ce373">Barry::RecordBuilder&lt; RecordT, StorageT &gt;</a>.</p>

<p>Referenced by <a class="el" href="packet_8cc-source.html#l00423">Barry::DBPacket::SetRecord()</a>.</p>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="classBarry_1_1Builder_7fd24f3f6d34bd1a6e8875ce7c242e9b_icgraph.png" border="0" usemap="#classBarry_1_1Builder_7fd24f3f6d34bd1a6e8875ce7c242e9b_icgraph_map" alt=""></center>
<map name="classBarry_1_1Builder_7fd24f3f6d34bd1a6e8875ce7c242e9b_icgraph_map">
<area shape="rect" href="classBarry_1_1DBPacket.html#26c4025403d129f658c1919190c0a0f0" title="Builds a command packet in the m_send buffer for the SET_RECORD command code." alt="" coords="233,5,420,32"><area shape="rect" href="classBarry_1_1Mode_1_1Desktop.html#0fec0d31ff496974acfc15fdc75f074a" title="Adds a record to the specified database." alt="" coords="471,5,689,32"></map>
</div>

</div>
</div><p>
<a class="anchor" name="8414acbff050df62c01d8835115e6d18"></a><!-- doxytag: member="Barry::Builder::BuildFields" ref="8414acbff050df62c01d8835115e6d18" args="(Data &amp;data, size_t &amp;offset, const IConverter *ic)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Barry::Builder::BuildFields           </td>
          <td>(</td>
          <td class="paramtype">Data &amp;&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classBarry_1_1IConverter.html">IConverter</a> *&nbsp;</td>
          <td class="paramname"> <em>ic</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Called to build the record field data. 
<p>
Store the raw data in data, using offset to know where to write. Be sure to update offset, and be sure to adjust the size of the data packet (possibly with Data::ReleaseBuffer()). 
<p>Implemented in <a class="el" href="classBarry_1_1RecordBuilder.html#d95441f87e80998803d1bb8cfc443c5c">Barry::RecordBuilder&lt; RecordT, StorageT &gt;</a>.</p>

<p>Referenced by <a class="el" href="packet_8cc-source.html#l00423">Barry::DBPacket::SetRecord()</a>, and <a class="el" href="packet_8cc-source.html#l00359">Barry::DBPacket::SetRecordByIndex()</a>.</p>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="classBarry_1_1Builder_8414acbff050df62c01d8835115e6d18_icgraph.png" border="0" usemap="#classBarry_1_1Builder_8414acbff050df62c01d8835115e6d18_icgraph_map" alt=""></center>
<map name="classBarry_1_1Builder_8414acbff050df62c01d8835115e6d18_icgraph_map">
<area shape="rect" href="classBarry_1_1DBPacket.html#26c4025403d129f658c1919190c0a0f0" title="Builds a command packet in the m_send buffer for the SET_RECORD command code." alt="" coords="252,5,439,32"><area shape="rect" href="classBarry_1_1DBPacket.html#7a41833dcc12c2823cd54991161e8d26" title="Builds a command packet in the m_send buffer for the SET_RECORD_BY_INDEX command..." alt="" coords="228,56,463,83"><area shape="rect" href="classBarry_1_1Mode_1_1Desktop.html#0fec0d31ff496974acfc15fdc75f074a" title="Adds a record to the specified database." alt="" coords="513,5,732,32"><area shape="rect" href="classBarry_1_1Mode_1_1Desktop.html#bf813b7fb04062515369209c8073dab0" title="Overwrites a specific record in the device as identified by the stateTableIndex." alt="" coords="515,56,731,83"></map>
</div>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="builder_8h-source.html">builder.h</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Thu Oct 1 00:15:31 2009 for Barry by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
