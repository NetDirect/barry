<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Barry: Barry::Sync::vTimeConverter Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="classes.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespaceBarry.html">Barry</a>::<b>Sync</b>::<a class="el" href="classBarry_1_1Sync_1_1vTimeConverter.html">vTimeConverter</a>
  </div>
</div>
<div class="contents">
<h1>Barry::Sync::vTimeConverter Class Reference</h1><!-- doxytag: class="Barry::Sync::vTimeConverter" --><code>#include &lt;<a class="el" href="vbase_8h-source.html">vbase.h</a>&gt;</code>
<p>

<p>
<a href="classBarry_1_1Sync_1_1vTimeConverter-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
A virtual base class that the plugins may override, to do time related conversions. 
<p>
Default implementations for these functions are provided, but may be overrided depending on need.<p>
We do this in a "callback" style, so that it doesn't matter what version of the opensync library we link against, in case the user wishes to use the opensync time functions. 
<p>Definition at line <a class="el" href="vbase_8h-source.html#l00044">44</a> of file <a class="el" href="vbase_8h-source.html">vbase.h</a>.</p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBarry_1_1Sync_1_1vTimeConverter.html#42139cdc07f1695f605e15ad1a7c08aa">unix2vtime</a> (const time_t *timestamp)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convert a time_t into an ISO timestamp string Throws <a class="el" href="classBarry_1_1ConvertError.html" title="Thrown by the vformat related barrysync library classes.">Barry::ConvertError</a> on error, but these errors must be rare.  <a href="#42139cdc07f1695f605e15ad1a7c08aa"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual time_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBarry_1_1Sync_1_1vTimeConverter.html#231567ee26a99891dd04f9b4635c702d">vtime2unix</a> (const char *vtime)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convert an ISO timestamp string into a time_t, using the current system timezone if vtime is not in UTC.  <a href="#231567ee26a99891dd04f9b4635c702d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBarry_1_1Sync_1_1vTimeConverter.html#054d690d23c17d0ade9f2640128e5aa2">alarmduration2sec</a> (const char *alarm)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convert a VEVENT alarm duration string in the format of "[+-]P.W.DT.H.M.S" where the periods represent numbers and each letter besides P and T represent Week, Day, Hour, Minute, and Second respectively.  <a href="#054d690d23c17d0ade9f2640128e5aa2"></a><br></td></tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="42139cdc07f1695f605e15ad1a7c08aa"></a><!-- doxytag: member="Barry::Sync::vTimeConverter::unix2vtime" ref="42139cdc07f1695f605e15ad1a7c08aa" args="(const time_t *timestamp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string Barry::Sync::vTimeConverter::unix2vtime           </td>
          <td>(</td>
          <td class="paramtype">const time_t *&nbsp;</td>
          <td class="paramname"> <em>timestamp</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Convert a time_t into an ISO timestamp string Throws <a class="el" href="classBarry_1_1ConvertError.html" title="Thrown by the vformat related barrysync library classes.">Barry::ConvertError</a> on error, but these errors must be rare. 
<p>

<p>Definition at line <a class="el" href="vbase_8cc-source.html#l00040">40</a> of file <a class="el" href="vbase_8cc-source.html">vbase.cc</a>.</p>

</div>
</div><p>
<a class="anchor" name="231567ee26a99891dd04f9b4635c702d"></a><!-- doxytag: member="Barry::Sync::vTimeConverter::vtime2unix" ref="231567ee26a99891dd04f9b4635c702d" args="(const char *vtime)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">time_t Barry::Sync::vTimeConverter::vtime2unix           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>vtime</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Convert an ISO timestamp string into a time_t, using the current system timezone if vtime is not in UTC. 
<p>
Returns (time_t)-1 on error. 
<p>Definition at line <a class="el" href="vbase_8cc-source.html#l00056">56</a> of file <a class="el" href="vbase_8cc-source.html">vbase.cc</a>.</p>

<p>References <a class="el" href="tzwrapper_8cc-source.html#l00183">Barry::Sync::TzWrapper::iso_mktime()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="classBarry_1_1Sync_1_1vTimeConverter_231567ee26a99891dd04f9b4635c702d_cgraph.png" border="0" usemap="#classBarry_1_1Sync_1_1vTimeConverter_231567ee26a99891dd04f9b4635c702d_cgraph_map" alt=""></center>
<map name="classBarry_1_1Sync_1_1vTimeConverter_231567ee26a99891dd04f9b4635c702d_cgraph_map">
<area shape="rect" href="classBarry_1_1Sync_1_1TzWrapper.html#c1524071e5a61fa789331c9784b6093d" title="Converts an ISO timestamp (YYYYMMDDTHHMMWW[Z]) into a unix time_t." alt="" coords="316,56,551,83"><area shape="rect" href="classBarry_1_1Sync_1_1TzWrapper.html#1f1529e9d5001b0b08de41d884c27d63" title="Barry::Sync::TzWrapper::mktime" alt="" coords="607,5,817,32"><area shape="rect" href="classBarry_1_1Sync_1_1TzWrapper.html#6770fc385305652d74b565b882dfab0c" title="Set timezone via offset in minutes Negative minutes goes west, positive goes east..." alt="" coords="600,56,824,83"><area shape="rect" href="classBarry_1_1Sync_1_1TzWrapper.html#ab3349c356c87e37d41841d78fd8f227" title="Set timezone to UTC." alt="" coords="605,107,819,133"><area shape="rect" href="classBarry_1_1Sync_1_1TzWrapper.html#46e3e3ec5c35694810271476707a6186" title="Set TZ to a new value." alt="" coords="872,56,1061,83"></map>
</div>

</div>
</div><p>
<a class="anchor" name="054d690d23c17d0ade9f2640128e5aa2"></a><!-- doxytag: member="Barry::Sync::vTimeConverter::alarmduration2sec" ref="054d690d23c17d0ade9f2640128e5aa2" args="(const char *alarm)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Barry::Sync::vTimeConverter::alarmduration2sec           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>alarm</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Convert a VEVENT alarm duration string in the format of "[+-]P.W.DT.H.M.S" where the periods represent numbers and each letter besides P and T represent Week, Day, Hour, Minute, and Second respectively. 
<p>

<p>Definition at line <a class="el" href="vbase_8cc-source.html#l00072">72</a> of file <a class="el" href="vbase_8cc-source.html">vbase.cc</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="vbase_8h-source.html">vbase.h</a><li><a class="el" href="vbase_8cc-source.html">vbase.cc</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Thu Feb 10 16:14:48 2011 for Barry by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
